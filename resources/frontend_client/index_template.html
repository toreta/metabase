<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, minimal-ui" />
        <meta name="apple-mobile-web-app-capable" content="yes" />
        <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

        {{{embed_code}}}

        <title>Metabase</title>

        <base href={{{base_href}}} />

        <script type="text/javascript">
            (function() {
                window.MetabaseBootstrap = {{{bootstrap_json}}};
                window.MetabaseLocalization = {{{localization_json}}};

                var configuredRoot = {{{base_href}}};
                var actualRoot = "/";

                // Add trailing slashes
                var backendPathname = {{{uri}}}.replace(/\/*$/, "/");
                // e.x. "/questions/"
                var frontendPathname = window.location.pathname.replace(/\/*$/, "/");
                // e.x. "/metabase/questions/"
                if (backendPathname === frontendPathname.slice(-backendPathname.length)) {
                    // Remove the backend pathname from the end of the frontend pathname
                    actualRoot = frontendPathname.slice(0, -backendPathname.length) + "/";
                    // e.x. "/metabase/"
                }

                if (actualRoot !== configuredRoot) {
                    console.warn("Warning: the Metabase site URL basename \"" + configuredRoot + "\" does not match the actual basename \"" + actualRoot + "\".");
                    console.warn("You probably want to update the Site URL setting to \"" + window.location.origin + actualRoot + "\"");
                    document.getElementsByTagName("base")[0].href = actualRoot;
                }

                window.MetabaseRoot = actualRoot;
            })();
        </script>
    </head>

    <body>
        <div id="root"></div>

        <script type="text/javascript">
            // Load scripts asyncronously after the page has finished loading
            (function () {
                function loadScript(src, onload) {
                    var script = document.createElement('script');
                    script.type  = "text/javascript";
                    script.async = true;
                    script.src   = src;
                    if (onload) script.onload = onload;
                    document.body.appendChild(script);
                }
                loadScript('https://ajax.googleapis.com/ajax/libs/webfont/1.4.7/webfont.js', function () {
                    WebFont.load({ google: {
                        families: ["Lato:300,400,700,900"] }
                    });
                });
                var googleAuthClientID = window.MetabaseBootstrap.google_auth_client_id;
                if (googleAuthClientID) {
                    loadScript('https://apis.google.com/js/api:client.js');
                }
            })();
        </script>

        <script>
          !function(){var analytics=window.analytics=window.analytics||[];if(!analytics.initialize)if(analytics.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");else{analytics.invoked=!0;analytics.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","reset","group","track","ready","alias","debug","page","once","off","on"];analytics.factory=function(t){return function(){var e=Array.prototype.slice.call(arguments);e.unshift(t);analytics.push(e);return analytics}};for(var t=0;t<analytics.methods.length;t++){var e=analytics.methods[t];analytics[e]=analytics.factory(e)}analytics.load=function(t,e){var n=document.createElement("script");n.type="text/javascript";n.async=!0;n.src="https://cdn.segment.com/analytics.js/v1/"+t+"/analytics.min.js";var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(n,a);analytics._loadOptions=e};analytics.SNIPPET_VERSION="4.1.0";
          analytics.load("jZZXtcwKYvafqIpOjzet41zUCnA109R1");
          analytics.page();
          }}();
        </script>
    </body>
</html>
